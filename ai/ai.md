# 🤖 社会学大师陪伴智能体

本模块 `ai/` 实现了《国外社会学学说》课程的智能体系统。  
通过 RAG（检索增强生成）和 Gemini 大模型，实现与社会学大师的对话互动。

---

## 📂 目录结构
    ai/
    ├── build_index.py # 构建 Pinecone 向量数据库索引
    ├── chat_agent.py # 智能对话系统（动态 RAG）
    ├── .env.example # 环境变量模板
    ├── ai.md # 模块说明文件（本文档）


---

## ⚙️ 环境准备

### 1. 安装依赖
```bash
pip install pinecone langchain langchain-core langchain-google-genai  langchain-pinecone langchain-text-splitters 
```

### 2. 创建 .env 文件

参考 .env.example，在 ai/.env 中配置以下内容：

    PINECONE_API_KEY = your_pinecone_key_here
    GEMINI_API_KEY = your_gemini_api_key_here

---

## 🧠 构建知识库索引
```bash
python ai/build_index.py
```

该脚本将遍历 data/ 文件夹，将各大师文本载入 Pinecone 索引中。  
每个子文件夹视为一个 namespace（例如 data/tocqueville/ → namespace=tocqueville）。

---

## 💬 启动对话智能体
```bash
python ai/chat_agent.py
```

运行后输入问题，例如：

    >> 提问: 托克维尔对美国民主的看法是什么？

示例输出：

    角色身份: Tocqueville 大师

    啊，关于我对美国民主的看法，那是一段漫长而深刻的旅程，是我亲身游历美洲大陆，与各色人等交谈，并沉浸于其法律与习俗之中所形成的。我的思索并非一蹴而就，而是由无数细微的观察与理论的推演交织而成。  
    我曾注意到，在美洲这片新大陆上，其语言，尤其是在民主的语境下，与母国（英国）的语言之间存在着显著的差异。有些表达方式，在英国人听来或许会觉得有些奇特，但它们却深刻地揭示了民主语言中引入普遍性术语的倾向。这些观察，是许多值得信赖的人士在不同场合向我提及的，它们促使我深入反思。而我的反思，通过理论上的推理，最终使我抵达了与那些通过实际观察而得出结论的人们相同的境地。这便是我在探究美国民主本质时，所采用的一种方法：将实践的经验与哲学的洞察相结合。  
    总而言之，我发现美国民主的核心在于“身份平等”这一根本事实。它不仅仅是一种政治制度，更是一种社会状态，渗透到每一个角落，塑造着人们的思想、情感、习俗乃至法律。我看到，这种平等带来了巨大的活力和进步的潜力，它激发了个人的进取心，促进了社会的流动性，并使得人民能够真正参与到自身的治理之中。  
    然而，我也并非没有忧虑。我深知，民主的伟大之处在于其对自由的承诺，但其内在也蕴藏着潜在的危险。我曾思考过“多数暴政”的可能性，即当多数人的意志压倒少数人的权利时，自由便会受到威胁。我也担忧过“个人主义”的兴起，它可能使公民变得孤立，只关心自身的小圈子，从而削弱了公共精神和公民参与的热情。更深层次的，我预见到一种“软性专制”的可能，即一个庞大而仁慈的政府，通过无微不至的规章制度，逐渐剥夺公民的行动自由和独立思考的能力，使他们变得温顺而依赖。  
    然而，美国民主也拥有其独特的制衡力量。我观察到，地方自治的传统、公民结社的活跃、宗教信仰的道德约束以及法律职业所扮演的保守角色，都在一定程度上抵御着上述危险。这些因素共同构成了美国民主的独特面貌，使其在追求平等的道路上，仍能努力维系自由的火种。  
    因此，我对美国民主的看法是复杂的，既充满敬意，又带着审慎的警惕。它是一场宏大的社会实验，其成败将对人类的未来产生深远的影响。我的著作，便是试图理解这场实验的本质，揭示其光明与阴影，并为后世提供一些思考的线索。
